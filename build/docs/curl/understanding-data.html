<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Launchpad Project (Developer Preview)</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="description" content="Launchpad is a Backend as a Service that makes it easy to create scalable apps in a matter of hours, not months">

	<meta property="og:title" content="Launchpad Project (Developer Preview)">
	<meta property="og:description" content="Launchpad is a Backend as a Service that makes it easy to create scalable apps in a matter of hours, not months">
	<meta property="og:url" content="http://liferay.io">
	<meta property="og:image" content="http://liferay.io/images/preview.jpg">
	<link rel="shortcut icon" href="/images/favicon.ico">

	<link rel="stylesheet" href="/vendor/fonts/icon-12.css">
	<link rel="stylesheet" href="/vendor/fonts/icon-16.css">
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:700,400,300|Open+Sans:700,400,300">

	<link rel="stylesheet" href="/vendor/styles/senna.css">
	<link rel="stylesheet" href="/styles/all.css">

	<script src="/vendor/scripts/senna-min.js"></script>
	<script src="/vendor/scripts/soyutils.min.js"></script>
	<script src="/vendor/scripts/api-min.js"></script>
	<script src="/vendor/scripts/alert-min.js"></script>
	<script src="/vendor/scripts/autocomplete-min.js"></script>
	<script src="/vendor/scripts/toggler-min.js"></script>
	<script src="/scripts/menu.js"></script>
</head>
<body data-senna data-senna-surface>
	<div class="senna-loading-bar"></div>

	
	<link rel="stylesheet" href="/vendor/styles/tomorrow-night-eighties.css">

	
	

	

	
	<nav class="topbar topbar-inverse topbar-docs guide-lang-curl topbar-docs-main">
		<div class="topbar-logo">
			<a class="topbar-logo-link" href="/">
				<span class="icon-16-launchpad-logo"></span>
				<span class="topbar-logo-text">Launchpad <span class="topbar-logo-complementary">Project <span class="topbar-logo-label">Dev Preview</span></span></span>
			</a>
		</div>
		<ul class="topbar-list">
			<li class="topbar-item">
				<a class="topbar-link" href="/faq">FAQ</a>
			</li>
			<li class="topbar-item">
				<a class="topbar-link topbar-link-selected" href="/docs">Docs</a>
			</li>
			<li class="topbar-item">
				<a class="topbar-link" href="/dashboard/login/signin" data-senna-off>Login</a>
			</li>
		</ul>
	</nav>
	

	<main class="docs guide-lang-curl">
		<nav class="sidebar sidebar-inverse">
			<a class="sidebar-header toggler-header-collapsed">
				<span class="sidebar-icon icon-16-menu"></span>
				<span>Docs Menu</span>
				<span class="sidebar-icon-right">
					<span class="icon-12-arrow-down-short"></span>
					<span class="icon-12-arrow-up-short"></span>
				</span>
			</a>
			<ul class="sidebar-list sidebar-list-1 toggler-collapsed">
				<li class="sidebar-item">
					<form class="sidebar-search" action="/docs/search/" method="GET" enctype="multipart/form-data">
						<div class="form-group">
							<div class="input-inner-addon input-inner-addon-right">
								<input name="q" class="form-control" type="text" placeholder="Search Docs" autocomplete="off" data-lang="curl" required>
								<span class="input-inner-icon-helper icon-16-magnifier"></span>
							</div>
						</div>
					</form>
				</li>
				<li class="sidebar-item">
					<a class="sidebar-link" href="/docs/">
						<span class="sidebar-icon icon-16-house-full"></span>
						<span>Docs Home</span>
					</a>
				</li>
				<li class="sidebar-item">
					<a class="sidebar-link" href="/docs/js/">
						<span class="sidebar-icon icon-16-globe"></span>
						<span>JavaScript</span>
					</a>
					<ul class="sidebar-list sidebar-list-2 hidden">
						
	<li class="sidebar-item">
		<a class="sidebar-link " href="/docs/curl/">
			<span>Quickstart</span>
		</a>
	</li>
	<li class="sidebar-item">
		<a class="sidebar-link " href="/docs/curl/building-apis.html">
			<span>Building APIs</span>
		</a>
	</li>
	<li class="sidebar-item">
		<a class="sidebar-link sidebar-link-selected" href="/docs/curl/understanding-data.html">
			<span>Understanding Data</span>
		</a>
	</li>
	
					</ul>
				</li>
				<li class="sidebar-item">
					<a class="sidebar-link" href="/docs/java/">
						<span class="sidebar-icon icon-16-cup"></span>
						<span>Java</span>
					</a>
					<ul class="sidebar-list sidebar-list-2 hidden">
						
	<li class="sidebar-item">
		<a class="sidebar-link " href="/docs/curl/">
			<span>Quickstart</span>
		</a>
	</li>
	<li class="sidebar-item">
		<a class="sidebar-link " href="/docs/curl/building-apis.html">
			<span>Building APIs</span>
		</a>
	</li>
	<li class="sidebar-item">
		<a class="sidebar-link sidebar-link-selected" href="/docs/curl/understanding-data.html">
			<span>Understanding Data</span>
		</a>
	</li>
	
					</ul>
				</li>
				<li class="sidebar-item">
					<a class="sidebar-link" href="/docs/curl/">
						<span class="sidebar-icon icon-16-command-line"></span>
						<span>cURL</span>
					</a>
					<ul class="sidebar-list sidebar-list-2 ">
						
	<li class="sidebar-item">
		<a class="sidebar-link " href="/docs/curl/">
			<span>Quickstart</span>
		</a>
	</li>
	<li class="sidebar-item">
		<a class="sidebar-link " href="/docs/curl/building-apis.html">
			<span>Building APIs</span>
		</a>
	</li>
	<li class="sidebar-item">
		<a class="sidebar-link sidebar-link-selected" href="/docs/curl/understanding-data.html">
			<span>Understanding Data</span>
		</a>
	</li>
	
					</ul>
				</li>
			</ul>
		</nav>

		<div class="sidebar-offset">
			
	<nav class="topbar topbar-inverse topbar-docs guide-lang-curl ">
		<div class="topbar-logo">
			<a class="topbar-logo-link" href="/">
				<span class="icon-16-launchpad-logo"></span>
				<span class="topbar-logo-text">Launchpad <span class="topbar-logo-complementary">Project <span class="topbar-logo-label">Dev Preview</span></span></span>
			</a>
		</div>
		<ul class="topbar-list">
			<li class="topbar-item">
				<a class="topbar-link" href="/faq">FAQ</a>
			</li>
			<li class="topbar-item">
				<a class="topbar-link topbar-link-selected" href="/docs">Docs</a>
			</li>
			<li class="topbar-item">
				<a class="topbar-link" href="/dashboard/login/signin" data-senna-off>Login</a>
			</li>
		</ul>
	</nav>
	
			<header class="guide-header">
				<div class="container-hybrid">
					<h1 class="guide-header-title">cURL <span>Guide</span></h1>
				</div>
			</header>
			<div class="container-hybrid">
				<div class="docs-guide row">
					<article class="docs-content col-xs-16 col-md-13">
						<h1 id="understanding-data-with-curl">Understanding Data with cURL</h1>
<h6 id="launchpad-provides-a-json-document-store-with-search-and-realtime-capabilities-read-and-write-operations-are-translated-into-a-restful-api-the-launchpad-client-also-helps-you-to-easily-create-complex-queries-in-java-javascript-or-swift-and-search-your-data-in-realtime-yes-you-can-listen-for-query-in-realtime-with-no-need-of-extra-server-side-code-">Launchpad provides a JSON document store with search and realtime capabilities. Read and write operations are translated into a RESTful API. The Launchpad client also helps you to easily create complex queries in Java, JavaScript, or Swift, and search your data in realtime. Yes, you can listen for query in realtime, with no need of extra server-side code.</h6>
<h2 id="1-write">1. Write</h2>
<p>Writing new data is as simple as sending a JSON.</p>
<pre><code class="lang-bash">curl -X &quot;POST&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;title\&quot;:\&quot;Star Wars IV\&quot;,\&quot;year\&quot;:1977,\&quot;rating\&quot;:8.7}&quot;
</code></pre>
<p>This operation will return the newly created document, with the following generated ID:</p>
<pre><code class="lang-json">{
  &quot;title&quot;: &quot;Star Wars&quot;,
  &quot;id&quot;:&quot; 115992383516607958&quot;,
  &quot;year&quot;: 1977,
  &quot;rating&quot;: 8.7
}
</code></pre>
<p>The URL we just created stored a new document in our <code>app</code>&#39;s <code>service</code>, inside the <em>collection</em> <code>movies</code>. More information on how to setup this datastore URL can be seen in the section <a href="http://liferay.io/docs/curl/building-apis.html">Building APIs</a>. For now, we only need to know that within the path where the data is mounted, the URL will be interpreted as a key that points to a stored resource like the one below:</p>
<pre><code class="lang-text">/collectionName/documentId/documentProperty/documentInnerProperty
</code></pre>
<p>For example, to reference the newly created <em>Star Wars</em> rating, we can use the path:</p>
<pre><code class="lang-text">/movies/115992383516607958/rating
</code></pre>
<p>From this point, update and delete operations can be performed at any level of the resource. For example, we can update the existing document by adding a new field:</p>
<pre><code class="lang-bash">curl -X &quot;PATCH&quot; &quot;http://liferay.io/app/service/movies/115992383516607958&quot; \
     --data-urlencode &quot;stars=Mark Hamill&quot; \
     --data-urlencode &quot;stars=Harrison Ford&quot; \
     --data-urlencode &quot;stars=Carrie Fisher&quot;
</code></pre>
<p>Note in the example above the data was sent as request form attributes. The response is the modified document:</p>
<pre><code class="lang-json">{
  &quot;title&quot;: &quot;Star Wars&quot;,
  &quot;id&quot;: &quot;115992383516607958&quot;,
  &quot;year&quot;: 1977,
  &quot;rating&quot;: 8.7,
  &quot;stars&quot;: [&quot;Mark Hamill&quot;, &quot;Harrison Ford&quot;, &quot;Carrie Fisher&quot;]
}
</code></pre>
<p>To create a document with a custom ID, or override an existing one, we can use the PUT method at the document level. The following example creates a new entry with the custom ID <code>star_wars_v</code>:</p>
<pre><code class="lang-bash">curl -X &quot;PUT&quot; &quot;http://liferay.io/app/service/movies/star_wars_v&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;title\&quot;:\&quot;Star Wars: Episode V - The Empire Strikes Back\&quot;,\&quot;year\&quot;:1980,\&quot;rating\&quot;:8.8}&quot;
</code></pre>
<p>To override an existing entry you would just specify the existing ID.</p>
<p>To delete a field, document, or the entire collection, we just use the DELETE method:</p>
<pre><code class="lang-bash">curl -X &quot;DELETE&quot; &quot;http://liferay.io/app/service/movies/star_wars_v/title&quot;
curl -X &quot;DELETE&quot; &quot;http://liferay.io/app/service/movies/star_wars_v&quot;
curl -X &quot;DELETE&quot; &quot;http://liferay.io/app/service/movies&quot;
</code></pre>
<h2 id="2-read">2. Read</h2>
<p>Reading data from our storage takes only 3 lines of code.</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies/star_wars_v&quot;
</code></pre>
<p>The response body is the stored JSON document:</p>
<pre><code class="lang-json">{
  &quot;id&quot;: &quot;star_wars_v&quot;,
  &quot;title&quot;: &quot;Star Wars: Episode V - The Empire Strikes Back&quot;,
  &quot;year&quot;: 1980,
  &quot;rating&quot;: 8.8
}
</code></pre>
<p>We can also get any field value using the full path:</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies/star_wars_v/title&quot;
</code></pre>
<p>The full path returns the raw content in the response body:</p>
<pre><code class="lang-text">Star Wars: Episode V - The Empire Strikes Back
</code></pre>
<p>Requesting the entire <code>movies</code> collection using <code>curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot;</code> results in the first <code>10</code> documents stored:</p>
<pre><code class="lang-json">[
  {&quot;id&quot;:&quot;star_wars_i&quot;, &quot;title&quot;:&quot;Star Wars: Episode I - The Phantom Menace&quot;, &quot;year&quot;:1999, &quot;rating&quot;:6.5},
  {&quot;id&quot;:&quot;star_wars_ii&quot;, &quot;title&quot;:&quot;Star Wars: Episode II - Attack of the Clones&quot;, &quot;year&quot;:2002, &quot;rating&quot;:6.7},
  {&quot;id&quot;:&quot;star_wars_iii&quot;, &quot;title&quot;:&quot;Star Wars: Episode III - Revenge of the Sith&quot;, &quot;year&quot;:2005, &quot;rating&quot;:7.7},
  {&quot;id&quot;:&quot;star_wars_iv&quot;, &quot;title&quot;:&quot;Star Wars: Episode IV - A New Hope&quot;, &quot;year&quot;:1977, &quot;rating&quot;:8.7},
  {&quot;id&quot;:&quot;star_wars_v&quot;, &quot;title&quot;:&quot;Star Wars: Episode V - The Empire Strikes Back&quot;, &quot;year&quot;:1980, &quot;rating&quot;:8.8},
  {&quot;id&quot;:&quot;star_wars_vi&quot;, &quot;title&quot;:&quot;Star Wars: Episode VI - Return of the Jedi&quot;, &quot;year&quot;:1983, &quot;rating&quot;:8.4},
  {&quot;id&quot;:&quot;star_wars_vii&quot;, &quot;title&quot;:&quot;Star Wars: Episode VII - The Force Awakens&quot;, &quot;year&quot;:2015}
]
</code></pre>
<p>The result is ordered by the document <code>id</code>, as we can see in the list above. We can select the order we want the results to be in, by passing a sort parameter, using the following code:</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;sort\&quot;:{\&quot;rating\&quot;:\&quot;desc\&quot;}}&quot;
</code></pre>
<p>As expected, the result would be the following list:</p>
<pre><code class="lang-json">[
  {&quot;id&quot;:&quot;star_wars_v&quot;,&quot;title&quot;:&quot;Star Wars: Episode V - The Empire Strikes Back&quot;,&quot;year&quot;:1980,&quot;rating&quot;:8.8},
  {&quot;id&quot;:&quot;star_wars_iv&quot;,&quot;title&quot;:&quot;Star Wars: Episode IV - A New Hope&quot;,&quot;year&quot;:1977,&quot;rating&quot;:8.7},
  {&quot;id&quot;:&quot;star_wars_vi&quot;,&quot;title&quot;:&quot;Star Wars: Episode VI - Return of the Jedi&quot;,&quot;year&quot;:1983,&quot;rating&quot;:8.4},
  {&quot;id&quot;:&quot;star_wars_iii&quot;,&quot;title&quot;:&quot;Star Wars: Episode III - Revenge of the Sith&quot;,&quot;year&quot;:2005,&quot;rating&quot;:7.7},
  {&quot;id&quot;:&quot;star_wars_ii&quot;,&quot;title&quot;:&quot;Star Wars: Episode II - Attack of the Clones&quot;,&quot;year&quot;:2002,&quot;rating&quot;:6.7},
  {&quot;id&quot;:&quot;star_wars_i&quot;,&quot;title&quot;:&quot;Star Wars: Episode I - The Phantom Menace&quot;,&quot;year&quot;:1999,&quot;rating&quot;:6.5},
  {&quot;id&quot;:&quot;star_wars_vii&quot;,&quot;title&quot;:&quot;Star Wars: Episode VII - The Force Awakens&quot;,&quot;year&quot;:2015}
]
</code></pre>
<p>Notice that Episode VII has no rating, as it was not released yet, thus it&#39;s sorted as the last document.</p>
<p>In addition to sorting the results, we can also apply filters using the following code:</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;filter\&quot;:[ \
               {\&quot;year\&quot;:{\&quot;operator\&quot;:\&quot;&lt;\&quot;,\&quot;value\&quot;:2000}}, \
               {\&quot;rating\&quot;:{\&quot;operator\&quot;:\&quot;&gt;\&quot;,\&quot;value\&quot;:8.5}} \
            ]}&quot;
</code></pre>
<p>The result of the filters just used is the following entries:</p>
<pre><code class="lang-json">[
  {&quot;id&quot;:&quot;star_wars_iv&quot;,&quot;title&quot;:&quot;Star Wars: Episode IV - A New Hope&quot;,&quot;year&quot;:1977,&quot;rating&quot;:8.7},
  {&quot;id&quot;:&quot;star_wars_v&quot;,&quot;title&quot;:&quot;Star Wars: Episode V - The Empire Strikes Back&quot;,&quot;year&quot;:1980,&quot;rating&quot;:8.8}
]
</code></pre>
<p>We can also paginate the result using the <code>limit</code> and <code>offset</code> properties. Combining all the tools we&#39;ve learned so far, we can run a detailed query on our data:</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;filter\&quot;:{\&quot;year\&quot;:{\&quot;operator\&quot;:\&quot;&gt;\&quot;,\&quot;value\&quot;:2000}}, \
              \&quot;sort\&quot;:{\&quot;rating\&quot;:\&quot;asc\&quot;}, \
              \&quot;limit\&quot;:2, \
              \&quot;offset\&quot;:1}&quot;
</code></pre>
<p>Notice that filtering by the year we only get episodes I, II, III and VII. Applying the rating sort will give us this same order. We also limited the result to show only 2 documents, and skipped the first one. The final result is the following entries:</p>
<pre><code class="lang-json">[
  {&quot;id&quot;:&quot;star_wars_ii&quot;,&quot;title&quot;:&quot;Star Wars: Episode II - Attack of the Clones&quot;,&quot;year&quot;:2002,&quot;rating&quot;:6.7},
  {&quot;id&quot;:&quot;star_wars_iii&quot;,&quot;title&quot;:&quot;Star Wars: Episode III - Revenge of the Sith&quot;,&quot;year&quot;:2005,&quot;rating&quot;:7.7}
]
</code></pre>
<p>We support all basic SQL-like operators (<code>=</code>, <code>!=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>~</code>), as well as <code>any</code> and <code>none</code> to filter elements in a list. We also give support for search operators, which we will see in more details in the section <a href="#3-search">Search Data</a>.</p>
<h2 id="3-search">3. Search</h2>
<p>Well, we did some great stuff with basic HTTP methods, like create, update, and delete JSON documents. We also learned how to retrieve documents with filter, sort, and pagination. What if we need to do more powerful queries with our documents? Well, in Launchpad you can do a text search, handle user misspellings, show the number of documents by category with your data, and much more.</p>
<p>First take a look at the text search. Its a simple, yet very powerful way to filter our results by a text query. Using the movie database we created before, let&#39;s search for a Star Wars movie by the episode title, like <code>&quot;Revenge of the Sith&quot;</code>. We are not interested if the letter is in upper or lower case, since we are using English connectors like <code>&quot;of&quot;</code> and <code>&quot;the&quot;</code>. We want something flexible enough it will also work for texts like &quot;The revenge of the Sith&quot;, or &quot;Sith&#39;s revenge&quot;. Our <code>match</code> operator is just what we need to run the search.</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;filter\&quot;:{\&quot;title\&quot;:{\&quot;operator\&quot;:\&quot;match\&quot;,\&quot;value\&quot;:\&quot;Sith&#39;s Revenge\&quot;}}}&quot;
</code></pre>
<p>The result of the <code>match</code> operator query is the following entry:</p>
<pre><code class="lang-json">[{&quot;id&quot;:&quot;star_wars_iii&quot;,&quot;title&quot;:&quot;Star Wars: Episode III - Revenge of the Sith&quot;,&quot;year&quot;:2005,&quot;rating&quot;:7.7}]
</code></pre>
<p>We can also use simple text operators in our match:</p>
<pre><code class="lang-bash"># we can run this
curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;filter\&quot;:{ \
                \&quot;title\&quot;:{ \
                   \&quot;operator\&quot;:\&quot;match\&quot;, \
                   \&quot;value\&quot;:\&quot;(jedi | force) -return\&quot;}}}&quot;

# or this
curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;filter\&quot;:{ \
                \&quot;title\&quot;:{ \
                   \&quot;operator\&quot;:\&quot;match\&quot;, \
                   \&quot;value\&quot;:\&quot;awake*\&quot;}}}&quot;

# or even this
curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;filter\&quot;:{ \
                \&quot;title\&quot;:{ \
                   \&quot;operator\&quot;:\&quot;match\&quot;, \
                   \&quot;value\&quot;:\&quot;wakens~\&quot;}}}&quot;
</code></pre>
<p>Any search in the previous example results in the following match:</p>
<pre><code class="lang-json">[{&quot;id&quot;:&quot;star_wars_vii&quot;,&quot;title&quot;:&quot;Star Wars: Episode VII - The Force Awakens&quot;,&quot;year&quot;:2015}]
</code></pre>
<p>What we did with <code>*</code> can also be done with the <code>prefix</code> operator <code>Filter.prefix(&#39;title&#39;, &#39;awake&#39;)</code>. The fuzziness we added to <code>wakens</code> using <code>~</code>, can also be done explicitly with the <code>fuzzy</code> operator <code>Filter.fuzzy(&#39;title&#39;, &#39;wakens&#39;)</code>.</p>
<p>So far we are still just filtering data with filters. We can do so much more than that! If we use query search instead of filter to send those filters to the server, we can also get information about how relevant a document is to a given search, and order our results by this criteria. Let us introduce this with a new filter that allows us to query movies with a title similar to a given text:</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;filter\&quot;:{ \
                \&quot;title\&quot;:{ \
                   \&quot;operator\&quot;:\&quot;similar\&quot;, \
                   \&quot;value\&quot;:\&quot;The attack an awakened Jedi uses to strike a Sith is pure force!\&quot;}}}&quot;
</code></pre>
<p>We receive not only the documents that match the filter, but also search metadata:</p>
<pre><code class="lang-json">{
  &quot;total&quot;: 5,
  &quot;documents&quot;: [
    {
      &quot;title&quot;: &quot;Star Wars: Episode VII - The Force Awakens&quot;,
      &quot;id&quot;: &quot;star_wars_vii&quot;
    },
    {
      &quot;title&quot;: &quot;Star Wars: Episode V - The Empire Strikes Back&quot;,
      &quot;id&quot;: &quot;star_wars_v&quot;
    },
    {
      &quot;title&quot;: &quot;Star Wars: Episode VI - Return of the Jedi&quot;,
      &quot;id&quot;: &quot;star_wars_vi&quot;
    },
    {
      &quot;title&quot;: &quot;Star Wars: Episode III - Revenge of the Sith&quot;,
      &quot;id&quot;: &quot;star_wars_iii&quot;
    },
    {
      &quot;title&quot;: &quot;Star Wars: Episode II - Attack of the Clones&quot;,
      &quot;id&quot;: &quot;staw_wars_ii&quot;
    }
  ],
  &quot;scores&quot;: {
    &quot;star_wars_ii&quot;: 0.13102644681930542,
    &quot;star_wars_iii&quot;: 0.13102644681930542,
    &quot;star_wars_v&quot;: 0.13102644681930542,
    &quot;star_wars_vi&quot;: 0.13102644681930542,
    &quot;star_wars_vii&quot;: 0.5241057872772217
  },
  &quot;queryTime&quot;: 1
}
</code></pre>
<p>Notice that the score of the <code>star_wars_vii</code> document is bigger than the other matches, indicating its title is more similar to the given filter than the others. The documents in the result are now ordered by the <em>relevance</em> of the document, expressed as a number in the <code>scores</code> metadata, rather than the document&#39;s ID. Now we can show not only filtered results, but also order our results by relevance!</p>
<p>Want more? Well, let&#39;s make things even easier for the user! Adding one entry to the search query, we can automatically highlight the words that matched our query, showing not only how relevant the document is to the search, but also where it matches our criteria. We can do this with small changes in our previous search, using the following code:</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;filter\&quot;:{ \
                \&quot;title\&quot;:{ \
                   \&quot;operator\&quot;:\&quot;similar\&quot;, \
                   \&quot;value\&quot;:\&quot;The attack an awakened Jedi uses to strike a Sith is pure force!\&quot;}}, \
             \&quot;highlight\&quot;:\&quot;title\&quot;}&quot;
</code></pre>
<p>As you can see in the code below, our keywords are highlighted in the results:</p>
<pre><code class="lang-json">{
  &quot;total&quot;: 5,
  &quot;documents&quot;: [
    {
      &quot;title&quot;: &quot;Star Wars: Episode VII - The &lt;em&gt;Force&lt;/em&gt; &lt;em&gt;Awakens&lt;/em&gt;&quot;,
      &quot;id&quot;: &quot;star_wars_vii&quot;
    },
    {
      &quot;title&quot;: &quot;Star Wars: Episode V - The Empire &lt;em&gt;Strikes&lt;/em&gt; Back&quot;,
      &quot;id&quot;: &quot;star_wars_v&quot;
    },
    {
      &quot;title&quot;: &quot;Star Wars: Episode VI - Return of the &lt;em&gt;Jedi&lt;/em&gt;&quot;,
      &quot;id&quot;: &quot;star_wars_vi&quot;
    },
    {
      &quot;title&quot;: &quot;Star Wars: Episode III - Revenge of the &lt;em&gt;Sith&lt;/em&gt;&quot;,
      &quot;id&quot;: &quot;star_wars_iii&quot;
    },
    {
      &quot;title&quot;: &quot;Star Wars: Episode II - &lt;em&gt;Attack&lt;/em&gt; of the Clones&quot;,
      &quot;id&quot;: &quot;star_wars_ii&quot;
    }
  ],
  &quot;scores&quot;: {
    &quot;star_wars_ii&quot;: 0.13102644681930542,
    &quot;star_wars_iii&quot;: 0.13102644681930542,
    &quot;star_wars_v&quot;: 0.13102644681930542,
    &quot;star_wars_vi&quot;: 0.13102644681930542,
    &quot;star_wars_vii&quot;: 0.5241057872772217
  },
  &quot;queryTime&quot;: 1
}
</code></pre>
<p>The third search feature is also quite simple, but can be applied to generate meaningful statistical information about our data. What if we need to compare the average rating the first three movies received, with the last three movies? Well, we can do that with aggregations, using the following code:</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/movies&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;filter\&quot;:{\&quot;year\&quot;:{\&quot;operator\&quot;:\&quot;&lt;\&quot;,\&quot;value\&quot;:1990}}, \
              \&quot;aggregate\&quot;:{\&quot;rating\&quot;:{\&quot;name\&quot;:\&quot;Old Movies\&quot;,\&quot;operator\&quot;:\&quot;avg\&quot;}}, \
              \&quot;type\&quot;:\&quot;count\&quot;}&quot;
</code></pre>
<p>The <code>count</code> we added to the query informed the server we are not interested in the documents themselves, but rather the number of matches and search metadata. The result in this case will be the following data:</p>
<pre><code class="lang-json">{
  &quot;total&quot;: 3,
  &quot;queryTime&quot;: 13,
  &quot;aggregations&quot;: {
    &quot;Old Movies&quot;: 8.633333333333333
  }
}
</code></pre>
<p>Cool, right? Simply run another query for the newest movies, and then you&#39;ll have the data you need to compare them. There are some additional operators that you might find useful: <code>min</code>, <code>max</code>, <code>sum</code>, <code>histogram</code>, and even a generic <code>stats</code> that returns several statistics over the field. Take a look at the example below to see results using the additional operators:</p>
<pre><code class="lang-json">{
  &quot;total&quot;: 3,
  &quot;queryTime&quot;: 8,
  &quot;aggregations&quot;: {
    &quot;Old Movies&quot;: {
      &quot;average&quot;: 8.633333333333333,
      &quot;count&quot;: 3,
      &quot;max&quot;: 8.8,
      &quot;min&quot;: 8.4,
      &quot;name&quot;: &quot;Old Movies&quot;,
      &quot;standardDeviation&quot;: null,
      &quot;sum&quot;: 25.9,
      &quot;sumOfSquares&quot;: null,
      &quot;variance&quot;: null
    }
  }
}
</code></pre>
<p>The last search feature we will cover here needs a little setup before we put our documents in the datastore, but it&#39;s not as complicated as it sounds. First, let&#39;s cover some basics on the datatypes we support. As we said before, we offer a JSON storage, thus we support all JSON types, with the restriction that arrays must be of elements of the same type. Once we put a new document in a collection, we can automatically derive the datatype of the fields added, and bind the fields to that datatype. So, if we try to run the following request:</p>
<pre><code class="lang-bash">curl -X &quot;PUT&quot; &quot;http://liferay.io/app/service/places/my_place/foo&quot; \
     --data &quot;bar&quot;
</code></pre>
<p>And then run the following request afterwards:</p>
<pre><code class="lang-bash">curl -X &quot;PUT&quot; &quot;http://liferay.io/app/service/places/my_place/foo&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;key\&quot;:\&quot;value\&quot;}&quot;
</code></pre>
<p>We will receive an error:</p>
<pre><code class="lang-json">{
  &quot;code&quot;: 400,
  &quot;message&quot;: &quot;Bad Request&quot;,
  &quot;errors&quot;: [
    {
      &quot;reason&quot;: &quot;invalidDocumentValue&quot;,
      &quot;message&quot;: &quot;Document cannot be saved. One or more document values could not be parsed to the correct type.&quot;
    }
  ]
}
</code></pre>
<p>The error was triggered because we could not convert the given data to the datatype bounded to that field. Of course, we can do simple conversions, for instance between numbers and strings, but whenever we fail, we will inform you something is wrong.</p>
<p>To access those datatypes, request the root of your service with a &quot;GET&quot;, and you&#39;ll receive something like the following result:</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service&quot;
</code></pre>
<pre><code class="lang-json">[
  {
    &quot;movies&quot;: {
      &quot;title&quot;: &quot;string&quot;,
      &quot;year&quot;: &quot;long&quot;,
      &quot;rating&quot;: &quot;double&quot;
    }
  },
  {
    &quot;places&quot;: {
      &quot;foo&quot;: &quot;string&quot;
    }
  }
]
</code></pre>
<blockquote>
<p>Notice to be able to read and write your <code>service</code>&#39;s root path you need to map it with an <em>API endpoint</em> with data flag active.</p>
</blockquote>
<p>If we want to inform the server of the datatype of a collection field before it receives its first document, we can POST/PATCH the data root with the mapping information:</p>
<pre><code class="lang-bash">curl -X &quot;POST&quot; &quot;http://liferay.io/app/service&quot; \
     --header &quot;Content-Type: application/json&quot; \
     --data &quot;{\&quot;places\&quot;:{\&quot;location\&quot;:\&quot;geo_point\&quot;}}&quot;
</code></pre>
<p>We can never update an already mapped field, but we can map new fields in an existing collection, as we did in the request above. When we manually map our collection, we can use some extra datatypes that are not mapped dynamically: <code>date</code>, <code>geo_point</code>, and <code>geo_shape</code>. We will focus on <code>geo_point</code> for this next feature.</p>
<p>So, we mapped a field called <code>location</code>, in the collection <code>places</code>, as representing a geolocation point. This means we can operate, filter, and aggregate the places we put in that collection, using geo filters over this field! Let&#39;s try something simple: find cinemas close to <a href="https://www.google.com.br/maps/place/Waterloo+Station/@51.5031653,-0.1123051,17z/data=!3m1!4b1!4m2!3m1!1s0x487604b9c09f521d:0x1d0598197b5003ba?hl=en">London&#39;s Waterloo Station</a>. To run the search criteria, we&#39;ll use the following code:</p>
<pre><code class="lang-bash">curl -X &quot;GET&quot; &quot;http://liferay.io/app/service/places&quot; \
    --header &quot;Content-Type: application/json&quot; \
    --data &quot;{\&quot;filter\&quot;:[ \
               {\&quot;category\&quot;:{\&quot;operator\&quot;:\&quot;any\&quot;,\&quot;value\&quot;:\&quot;cinema\&quot;}}, \
               {\&quot;location\&quot;:{\&quot;operator\&quot;:\&quot;gd\&quot;,\&quot;value\&quot;:{\&quot;location\&quot;:\&quot;51.5031653,-0.1123051\&quot;,\&quot;max\&quot;:\&quot;1mi\&quot;}}}]}&quot;
</code></pre>
<p>Our result is the following matches:</p>
<pre><code class="lang-json">[
  {
    &quot;name&quot;: &quot;BFI IMAX&quot;,
    &quot;location&quot;: &quot;51.5126928,-0.12052&quot;,
    &quot;id&quot;: &quot;116686224946770924&quot;,
    &quot;category&quot;: [
      &quot;cinema&quot;
    ]
  },
  {
    &quot;name&quot;: &quot;Cinema Museum&quot;,
    &quot;location&quot;: &quot;51.501661,-0.1177734&quot;,
    &quot;id&quot;: &quot;116686224946770925&quot;,
    &quot;category&quot;: [
      &quot;cinema&quot;,
      &quot;museum&quot;
    ]
  },
  {
    &quot;name&quot;: &quot;Roxy Bar and Screen&quot;,
    &quot;location&quot;: &quot;51.5012603,-0.1146835&quot;,
    &quot;id&quot;: &quot;116686224946770926&quot;,
    &quot;category&quot;: [
      &quot;cinema&quot;,
      &quot;bar&quot;,
      &quot;restaurant&quot;
    ]
  }
]
</code></pre>
<p>Now we can plug a map to our app, and let users see and filter places, with just a few lines of code.</p>
<h2 id="4-watch">4. Watch</h2>
<p>Unfortunately, you can&#39;t watch for realtime changes using cURL. Try using <a href="http://liferay.io/docs/java/understanding-data.html#4-watch">Java</a> or <a href="http://liferay.io/docs/js/understanding-data.html#4-watch">JavaScript</a> to accomplish that.</p>
<h2 id="5-what-s-next-">5. What&#39;s next?</h2>
<p>Well, it&#39;s time to create your amazing app! We&#39;re really excited to see what you&#39;re going to build next. And remember, there are many features coming. Stay tuned!</p>

						<hr>
						<div class="guide-feedback">
							<p>Was this section helpful?</p>
							<button class="btn btn-accent guide-feedback-btn guide-feedback-btn-yes">Yes</button>
							<button class="btn btn-accent guide-feedback-btn guide-feedback-btn-no">No</button>
						</div>
						<div class="guide-github">
							<div class="guide-github-img">
								<img src="/images/octocat.png" alt="Octocat" width="80" height="69">
							</div>
							<div class="guide-github-text">
								<p>Contribute to this Doc on Github! <a href="https://github.com/launchpad-project/docs/edit/master/curl/understanding-data.md" class="docs-github-link" target="_blank">Edit this section</a>.</p>
							</div>
						</div>
					</article>
					<nav class="docs-nav col-xs-16 col-md-3">
						<ul class="docs-nav-list">
						
							<li class="docs-nav-item">
								<a href="#1-write" class="docs-nav-link">1. Write</a>
							</li>
							<li class="docs-nav-item">
								<a href="#2-read" class="docs-nav-link">2. Read</a>
							</li>
							<li class="docs-nav-item">
								<a href="#3-search" class="docs-nav-link">3. Search</a>
							</li>
							<li class="docs-nav-item">
								<a href="#4-watch" class="docs-nav-link">4. Watch</a>
							</li>
						
						</ul>
						<p class="search-feedback">Do you have any questions?</p>
						<a class="search-feedback-btn btn btn-default" href="mailto:eduardo.lundgren@liferay.com">Contact Us!</a>
					</nav>
				</div>
			</div>
			<div class="newsletter">
				<div class="container-hybrid">
					<div class="row">
						<div class="col-md-12 col-md-offset-2 col-xs-16">
							<span class="newsletter-avatar">
								<span class="icon-16-mail"></span>
							</span>
							<h2 class="newsletter-subtitle">Couldn't find what you want?</h1>
							<p class="newsletter-description">Don't worry, we're constantly working on improvements. Stay tuned!</p>
							<form autocomplete="off" class="row newsletter-form">
								<div class="col-md-9 col-md-offset-2 col-xs-16">
									<div class="form-group">
										<input class="form-control input-inverse-accent" name="email" type="email" placeholder="Your email address">
									</div>
								</div>
								<div class="col-md-5 col-xs-16">
									<input class="btn btn-inverse-accent btn-sm" type="submit" value="Subscribe">
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>

	
	<script src="/vendor/scripts/highlight.pack.min.js"></script>
	<script src="/scripts/newsletter.js"></script>
	<script src="/scripts/guide.js"></script>


	<!-- Intercom -->
	<script>
	window.intercomSettings = { app_id: 'ytqx30hx' };
	(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/ytqx30hx';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
	</script>

	<!-- Analytics -->
	<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-37033501-2', 'auto');
	ga('send', 'pageview');
	</script>

	<!-- Inspectlet -->
	<script id="inspectletjs">
	window.__insp = window.__insp || [];
	__insp.push(['wid', 1029478452]);
	(function() {
		function ldinsp(){var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
		document.readyState != "complete" ? (window.attachEvent ? window.attachEvent('onload', ldinsp) : window.addEventListener('load', ldinsp, false)) : ldinsp();
	})();
	</script>
</body>
</html>